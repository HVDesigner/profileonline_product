(this.webpackJsonpproonline=this.webpackJsonpproonline||[]).push([[0],{130:function(e,t,a){e.exports=a(243)},135:function(e,t,a){},243:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),s=(a(135),a(4)),m=a(248),o=a(249),i=a(124),u=a(256),d=a(250),E=a(75);a(139),a(141);E.initializeApp({apiKey:"AIzaSyAGzj8CSduZrPZb8iOy8m8pinxPzhlPbWc",authDomain:"proonline-da6e5.firebaseapp.com",databaseURL:"https://proonline-da6e5.firebaseio.com",projectId:"proonline-da6e5",storageBucket:"proonline-da6e5.appspot.com",messagingSenderId:"142406617803",appId:"1:142406617803:web:48481627644469c0b8694e",measurementId:"G-CFHZTBSQFR"});var f=E,g=a(254),p=a(245),h=a(246),b=a(247);var v=function(){var e=r.a.useState(""),t=Object(s.a)(e,2),a=t[0],n=t[1],l=r.a.useState(""),c=Object(s.a)(l,2),m=c[0],o=c[1],i=r.a.useState({status:!1,message:""}),d=Object(s.a)(i,2),E=d[0],v=d[1],y=r.a.useState(!1),N=Object(s.a)(y,2),S=N[0],k=N[1];return r.a.createElement(u.a,{className:"shadow-sm mb-4"},r.a.createElement(u.a.Body,null,r.a.createElement(u.a.Title,{className:"text-center"},r.a.createElement("h1",{className:"fontLobster"},"\u0110\u0103ng Nh\u1eadp")),r.a.createElement(g.a,{onSubmit:function(e){e.preventDefault(),""!==a&&""!==m&&(k(!0),f.auth().signInWithEmailAndPassword(a,m).then((function(e){k(!1)})).catch((function(e){var t=e.message;v({status:!0,message:t}),k(!1)})),v(!0))}},r.a.createElement(g.a.Group,{controlId:"GroupEmail"},r.a.createElement(g.a.Label,null,r.a.createElement("strong",null,"Email")),r.a.createElement(g.a.Control,{type:"email",placeholder:"Nh\u1eadp email",required:!0,value:a,onChange:function(e){n(e.target.value)},autoComplete:"off"})),r.a.createElement(g.a.Group,{controlId:"GroupPassword"},r.a.createElement(g.a.Label,null,r.a.createElement("strong",null,"M\u1eadt kh\u1ea9u")),r.a.createElement(g.a.Control,{type:"password",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u",required:!0,value:m,onChange:function(e){o(e.target.value)},autoComplete:"off"})),r.a.createElement(g.a.Group,{controlId:"GroupError"},E.status?r.a.createElement(p.a,{variant:"danger"},E.message):""),S?r.a.createElement(h.a,{variant:"primary",type:"button",block:!0},r.a.createElement(b.a,{animation:"grow",size:"sm",className:"align-middle"})):""===a||""===m?r.a.createElement(h.a,{variant:"primary",type:"button",block:!0,disabled:!0},"\u0110\u0103ng nh\u1eadp"):r.a.createElement(h.a,{variant:"primary",type:"submit",block:!0},"\u0110\u0103ng nh\u1eadp"))))};var y=function(){var e=r.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],l=r.a.useState(""),c=Object(s.a)(l,2),m=c[0],o=c[1],d=r.a.useState(""),E=Object(s.a)(d,2),v=E[0],y=E[1],N=r.a.useState(""),S=Object(s.a)(N,2),k=S[0],x=S[1],O=r.a.useState({status:!1,message:""}),w=Object(s.a)(O,2),C=w[0],j=w[1],I=r.a.useState({cat:"",dog:""}),A=Object(s.a)(I,2),D=A[0],T=A[1],H=r.a.useState(""),L=Object(s.a)(H,2),R=L[0],U=L[1],F=r.a.useState(!1),B=Object(s.a)(F,2),M=B[0],P=B[1];return r.a.useEffect((function(){return f.database().ref("/image_url").on("value",(function(e){T({cat:e.val().cat_image,dog:e.val().dog_image}),U(e.val().cat_image)})),function(){f.database().ref("/image_url").off()}})),r.a.createElement(u.a,{className:"shadow-sm mb-5"},r.a.createElement(u.a.Body,null,r.a.createElement(u.a.Title,{className:"fontLobster"},"\u0110\u0103ng K\xfd"),r.a.createElement(u.a.Text,{className:"text-muted"},"\u0110\u0103ng k\xfd ngay \u0111\u1ec3 \u0111\u01b0\u1ee3c kh\xe1m ph\xe1 nh\u1eefng n\u1ed9i dung c\u1ef1c k\u1ef3 h\u1ea5p d\u1eabn b\xean trong."),a?r.a.createElement(g.a,{className:"border-top pt-3",onSubmit:function(e){e.preventDefault(),P(!0),f.auth().createUserWithEmailAndPassword(v,k).then((function(e){f.database().ref("users/"+e.user.uid).set({full_name:m,image_url:R,type:"USER"}),P(!1)})).catch((function(e){P(!1);var t=e.message;j({status:!0,message:t})}))}},r.a.createElement(g.a.Group,{controlId:"GroupName"},r.a.createElement(g.a.Label,null,r.a.createElement("strong",null,"H\u1ecd v\xe0 T\xean")),r.a.createElement(g.a.Control,{type:"text",placeholder:"Nh\u1eadp h\u1ecd v\xe0 t\xean",value:m,onChange:function(e){o(e.target.value)},required:!0,maxLength:"25"})),r.a.createElement(g.a.Group,{controlId:"GroupEmailSignUp"},r.a.createElement(g.a.Label,null,r.a.createElement("strong",null,"Email")),r.a.createElement(g.a.Control,{type:"email",placeholder:"Nh\u1eadp email",value:v,onChange:function(e){y(e.target.value)},required:!0})),r.a.createElement(g.a.Group,{controlId:"GroupPasswordSignUp"},r.a.createElement(g.a.Label,null,r.a.createElement("strong",null,"M\u1eadt kh\u1ea9u")),r.a.createElement(g.a.Control,{type:"password",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u",value:k,onChange:function(e){x(e.target.value)},required:!0})),r.a.createElement(g.a.Label,null,r.a.createElement("strong",null,"Ch\u1ecdn con v\u1eadt \u01b0a th\xedch")),r.a.createElement(g.a.Row,null,r.a.createElement(i.a,null,r.a.createElement(g.a.Group,{controlId:"GroupCat"},r.a.createElement(g.a.Check,{custom:!0,type:"radio",label:r.a.createElement("img",{src:D.cat,alt:"cat"}),name:"radio",value:D.cat,onChange:function(e){U(e.target.value)},defaultChecked:!0}))),r.a.createElement(i.a,null,r.a.createElement(g.a.Group,{controlId:"GroupDog"},r.a.createElement(g.a.Check,{custom:!0,type:"radio",label:r.a.createElement("img",{src:D.dog,alt:"dog"}),name:"radio",value:D.dog,onChange:function(e){U(e.target.value)}})))),C.status?r.a.createElement(p.a,{variant:"danger"},C.message):"",""===m||""===v||""===k?r.a.createElement(h.a,{variant:"primary",type:"submit",block:!0,disabled:!0},"\u0110\u0103ng K\xfd"):M?r.a.createElement(h.a,{variant:"primary",type:"button",block:!0},r.a.createElement(b.a,{animation:"grow",size:"sm",className:"align-middle"})):r.a.createElement(h.a,{variant:"primary",type:"submit",block:!0},"\u0110\u0103ng K\xfd")):r.a.createElement(h.a,{variant:"outline-primary",onClick:function(){n(!0)}},"\u0110\u0103ng K\xfd Ngay")))};function N(){return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center mr-3",style:{minWidth:"40px"}},r.a.createElement(b.a,{animation:"grow",size:"sm"}))}var S=function(){return r.a.createElement("div",{style:{height:"100vh",width:"100vw"},className:"d-flex justify-content-center align-items-center"},r.a.createElement(b.a,{animation:"grow"}))},k=function(e){return function(){var t=r.a.useState(""),a=Object(s.a)(t,2),n=a[0],l=a[1],c=r.a.useState(""),u=Object(s.a)(c,2),E=u[0],g=u[1],p=r.a.useState(""),h=Object(s.a)(p,2),b=h[0],N=h[1],k=r.a.useState(!1),x=Object(s.a)(k,2),O=x[0],w=x[1],C=r.a.useState(!0),j=Object(s.a)(C,2),I=j[0],A=j[1],D=r.a.useState({}),T=Object(s.a)(D,2),H=T[0],L=T[1];return r.a.useEffect((function(){f.database().ref("/avatar_link").once("value").then((function(e){l(e.val())})),f.auth().onAuthStateChanged((function(e){e?(f.database().ref("users/"+e.uid).once("value").then((function(e){g(e.val().full_name),N(e.val().type)})),w(!0),L(e)):w(!1),A(!1)}))})),I?r.a.createElement(S,null):O?r.a.createElement(e,{avaUrl:n,userId:H.uid,username:E,userType:b}):r.a.createElement("div",{className:"bg-light",style:{width:"100vw",height:"100%",minHeight:"100vh"}},r.a.createElement(m.a,null,r.a.createElement(o.a,null,r.a.createElement(i.a,null,r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement(d.a,{src:n,thumbnail:!0,className:"rounded-circle shadow-sm",width:"100px",style:{minHeight:"100px",minWidth:"100px"}}),r.a.createElement("h1",{className:"display-4 fontLobster"},"Ho\xe0ng Ng\u1ecdc Vi\u1ec7t"),r.a.createElement("p",{className:"text-muted"},"Profile Online")))),r.a.createElement(o.a,null,r.a.createElement(i.a,{md:"6",xs:"12"},r.a.createElement(v,null)),r.a.createElement(i.a,{md:"6",xs:"12"},r.a.createElement(y,null))),r.a.createElement(o.a,null,r.a.createElement(i.a,{className:"text-muted text-center mb-2"},r.a.createElement("small",null,"HVDesigner @ 2020")))))}},x=a(24),O=a(10);function w(e){var t=e.blocks;return function e(t){if(""!==t[0].text)return t;t.splice(0,1),e(t)}(t),function e(t){var a=t.length-1;if(""!==t[a].text)return t;t.splice(a,1),e(t)}(t),t.splice(0,1,Object(x.a)({},t,{text:t[0].text.replace(/^\s+|\s+$/g,"")})),t.splice(t.length-1,1,Object(x.a)({},t,{text:t[t.length-1].text.replace(/~+$/,"")})),Object(x.a)({},e,{blocks:t})}function C(e){var t=e.func,a=e.editorStateProps,n=e.readOnlyProps,l=e.refProps,c=e.setEditorStateProps;return r.a.createElement("div",{className:"form-control rounded ".concat(n?"border-0":""),style:{height:"auto",backgroundColor:n?"#e9ecef":"#fff",opacity:1}},r.a.createElement(O.Editor,{editorState:a,readOnly:n,onChange:c,ref:l,keyBindingFn:function(e){return e.shiftKey||13!==e.keyCode||t(),e.shiftKey&&13===e.keyCode||13!==e.keyCode?Object(O.getDefaultKeyBinding)(e):void 0}}))}function j(e){var t=e.text,a=e.keyEditor;return r.a.createElement("div",{className:"form-control rounded border-0",style:{height:"auto",backgroundColor:"#e9ecef",opacity:1}},r.a.createElement(O.Editor,{editorState:O.EditorState.createWithContent(Object(O.convertFromRaw)(JSON.parse(t))),readOnly:!0,editorKey:a}))}var I=function(e){var t=e.func,a=e.placeholder,n=void 0===a?"Vi\u1ebft m\u1ed9t b\xecnh lu\u1eadn...":a,l=e.editorState,c=e.setEditorState;return r.a.createElement("div",{className:"form-control overflow-hidden rounded",style:{height:"auto"},disabled:!0},r.a.createElement(O.Editor,{editorState:l,keyBindingFn:function(e){return e.shiftKey||13!==e.keyCode||l.getCurrentContent().hasText()&&(t(),c(O.EditorState.createEmpty())),e.shiftKey&&13===e.keyCode||13!==e.keyCode?Object(O.getDefaultKeyBinding)(e):void 0},onChange:c,placeholder:n}))};function A(){return r.a.createElement(u.a.Body,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{xs:"12",md:"6",className:"mb-4"},r.a.createElement("img",{src:"https://img.icons8.com/cute-clipart/64/000000/web.png",alt:"front-end",className:"mb-3"}),r.a.createElement("h3",null,"Front-end"),r.a.createElement("p",null,"- ReactJS, NextJS, Redux, ApolloJS, VanillaJS, Typescript, HTML5, CSS3, SASS.")),r.a.createElement(i.a,{xs:"12",md:"6",className:"mb-4"},r.a.createElement("img",{src:"https://img.icons8.com/cute-clipart/64/000000/server.png",alt:"back-end",className:"mb-3"}),r.a.createElement("h3",null,"Back-end"),r.a.createElement("p",null,"- NodeJS, ApolloJS, GraphQL, RESTful, ExpressJS, NestJS, SocketIO, Mongoose."),r.a.createElement("p",null,"- Java Spring Boot, Java Servlet.")),r.a.createElement(i.a,{xs:"12",md:"6",className:"mb-4"},r.a.createElement("img",{src:"https://img.icons8.com/cute-clipart/64/000000/change-theme.png",alt:"database",className:"mb-3"}),r.a.createElement("h3",null,"Database"),r.a.createElement("p",null,"- MySQL, PostgreSQL, MongoDB, Firebase, Apache Cassandra, Microsoft Access.")),r.a.createElement(i.a,{xs:"12",md:"6",className:"mb-4"},r.a.createElement("img",{src:"https://img.icons8.com/cute-clipart/64/000000/linux-client.png",alt:"OS",className:"mb-3"}),r.a.createElement("h3",null,"OS"),r.a.createElement("p",null,"- Ubuntu, Windows.")),r.a.createElement(i.a,{xs:"12",md:"6"},r.a.createElement("img",{src:"https://img.icons8.com/cute-clipart/64/000000/printed-ocr.png",alt:"OS",className:"mb-3"}),r.a.createElement("h3",null,"Design"),r.a.createElement("p",null,"- Adobe Photoshop, Adobe Illustrator."))))}var D=a(253);var T=function(e){var t=e.show,a=e.setShow,n=e.func,l=function(){a(!1)};return r.a.createElement(D.a,{show:t,onHide:l,centered:!0},r.a.createElement(D.a.Body,null,"B\u1ea1n th\u1eadt s\u1ef1 mu\u1ed1n x\xf3a b\xecnh lu\u1eadn n\xe0y."),r.a.createElement(D.a.Footer,null,r.a.createElement(m.a,null,r.a.createElement(o.a,null,r.a.createElement(i.a,null,r.a.createElement(h.a,{variant:"danger",onClick:function(){n(),l()},block:!0},"X\xf3a")),r.a.createElement(i.a,null,r.a.createElement(h.a,{variant:"link",onClick:l,block:!0},"H\u1ee7y"))))))};function H(e){var t=e.iconURL,a=e.userType;return r.a.createElement("img",{src:t,alt:"icon",className:"mr-2 ".concat("ADMIN"===a?"border rounded-circle":""),width:"40px"})}var L=function(e){var t=e.comment,a=e.userId,n=e.firebase,l=r.a.useState(!1),c=Object(s.a)(l,2),m=c[0],o=c[1],i=r.a.useState(!0),u=Object(s.a)(i,2),d=u[0],E=u[1],f=r.a.useRef(null),g=r.a.useState(""),p=Object(s.a)(g,2),h=p[0],b=p[1],v=r.a.useState(""),y=Object(s.a)(v,2),S=y[0],k=y[1],x=r.a.useState(!0),j=Object(s.a)(x,2),I=j[0],A=j[1],D=r.a.useState(""),L=Object(s.a)(D,2),R=L[0],U=L[1],F=r.a.useState(O.EditorState.createWithContent(Object(O.convertFromRaw)(JSON.parse(t.text)))),B=Object(s.a)(F,2),M=B[0],P=B[1];r.a.useEffect((function(){n.database().ref("users/"+t.uid).once("value").then((function(e){b(e.val().image_url),k(e.val().full_name),U(e.val().type),A(!1)}))}),[n,t.uid]);var G=function(){M.getCurrentContent().hasText()&&n.database().ref("skills/comments/"+t.id).update({status:"EDITED",text:JSON.stringify(w(Object(O.convertToRaw)(M.getCurrentContent()))),updatedAt:Date.now()}).then((function(e){P(O.EditorState.createWithContent(Object(O.convertFromRaw)(w(Object(O.convertToRaw)(M.getCurrentContent()))))),E(!0)}))},J=new Date(t.createdAt);return r.a.createElement("div",{className:"pt-1 mt-2"},r.a.createElement(T,{show:m,setShow:o,func:function(){n.database().ref("skills/comments/"+t.id).remove()}}),r.a.createElement("div",{className:"d-flex flex-row-reverse align-items-center"},r.a.createElement("span",{className:"text-secondary"},r.a.createElement("small",null,"".concat(J.getDate()," ").concat(["th\xe1ng 1","th\xe1ng 2","th\xe1ng 3","th\xe1ng 4","th\xe1ng 5","th\xe1ng 6","th\xe1ng 7","th\xe1ng 8","th\xe1ng 9","th\xe1ng 10","th\xe1ng 11","th\xe1ng 12"][J.getMonth()]," ").concat(J.getFullYear()))),"\xa0",r.a.createElement("span",{className:"text-muted"},"\xb7"),"\xa0",r.a.createElement("span",{className:"text-primary"},r.a.createElement("small",null,S))),r.a.createElement("div",{className:"d-flex align-items-center"},I?r.a.createElement(N,null):r.a.createElement(H,{iconURL:h,userType:R}),r.a.createElement(C,{readOnlyProps:d,refProps:f,func:G,setEditorStateProps:P,editorStateProps:M})),r.a.createElement("div",{className:"d-flex flex-row-reverse align-items-center"},d?t.uid===a?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"btn-link",style:{cursor:"pointer"}},r.a.createElement("small",{onClick:function(){o(!0)}},"X\xf3a")),"\xa0",r.a.createElement("span",{className:"text-muted"},"\xb7"),"\xa0",r.a.createElement("span",{className:"btn-link",style:{cursor:"pointer"}},r.a.createElement("small",{onClick:function(){E(!1),f.current.focus()}},"S\u1eeda"))):"":r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"btn-link",style:{cursor:"pointer"}},r.a.createElement("small",{onClick:function(){G()}},"L\u01b0u")),"\xa0",r.a.createElement("span",{className:"text-muted"},"\xb7"),"\xa0",r.a.createElement("span",{className:"btn-link",style:{cursor:"pointer"},onClick:function(){E(!0)}},r.a.createElement("small",null,"H\u1ee7y"))),t.status&&"EDITED"===t.status?r.a.createElement(r.a.Fragment,null,"\xa0",r.a.createElement("span",{className:"text-muted"},"\xb7"),"\xa0",r.a.createElement("span",{className:"text-primary"},r.a.createElement("small",null,"\u0110\xe3 ch\u1ec9nh s\u1eeda"))):""))};function R(e){var t=e.firebase,a=e.userId,n=r.a.useState(!1),l=Object(s.a)(n,2),c=l[0],m=l[1],o=r.a.useState(!0),i=Object(s.a)(o,2),u=i[0],d=i[1],E=r.a.useState(0),f=Object(s.a)(E,2),g=f[0],p=f[1];r.a.useEffect((function(){return t.database().ref("skills/like/"+a).on("value",(function(e){e.val()&&"ACTIVE"===e.val().status&&m(!0),e.val()&&"UNLIKE"===e.val().status&&m(!1),d(!1)})),t.database().ref("skills/like").on("value",(function(e){if(e.val()){for(var t=Object.keys(e.val()),a=0,n=0;n<t.length;n++){var r=t[n];"ACTIVE"===e.val()[r].status&&(a+=1)}p(a)}})),function(){t.database().ref("skills/like/"+a).off(),t.database().ref("skills/like").off()}}),[t,a]);return u?r.a.createElement(N,null):r.a.createElement(r.a.Fragment,null,c?r.a.createElement("img",{src:"https://img.icons8.com/plasticine/50/000000/like--v1.png",style:{cursor:"pointer"},alt:"like",onClick:function(){t.database().ref("skills/like/"+a).update({updatedAt:Date.now(),status:"UNLIKE"})}}):r.a.createElement("img",{src:"https://img.icons8.com/plasticine/50/000000/like--v2.png",style:{cursor:"pointer"},alt:"like",onClick:function(){t.database().ref("skills/like/"+a).set({createdAt:Date.now(),updatedAt:Date.now(),status:"ACTIVE"})}}),r.a.createElement("small",{className:"text-muted ml-2"},0===g?"Ch\u01b0a c\xf3 l\u01b0\u1ee3t th\xedch n\xe0o.":"C\xf3 ".concat(g," l\u01b0\u1ee3t th\xedch.")))}var U=function(e){var t=e.firebase,a=e.userId,n=r.a.useState(""),l=Object(s.a)(n,2),c=l[0],m=l[1],o=r.a.useState(""),i=Object(s.a)(o,2),d=i[0],E=i[1],f=r.a.useState([]),g=Object(s.a)(f,2),p=g[0],h=g[1],b=r.a.useState(!0),v=Object(s.a)(b,2),y=v[0],S=v[1],k=r.a.useState(O.EditorState.createEmpty()),C=Object(s.a)(k,2),j=C[0],D=C[1];return r.a.useEffect((function(){return t.database().ref("skills/comments").on("value",(function(e){if(e.val()){var t=Object.keys(e.val()).map((function(t){return Object(x.a)({},e.val()[t],{id:t})})).sort((function(e,t){var a=new Date(e.createdAt),n=new Date(t.createdAt);return a<n?1:a>n?-1:0}));h(t)}else h([])})),t.database().ref("users/"+a).once("value").then((function(e){e.val()&&(m(e.val().image_url),E(e.val().type),S(!1))})),function(){t.database().ref("skills/comments").off()}}),[t,a]),r.a.createElement(u.a,{className:"mt-3 shadow-sm"},r.a.createElement(u.a.Header,{className:"text-center m-0",as:"h4"},"C\xe1c k\u1ef9 n\u0103ng"),r.a.createElement(A,null),r.a.createElement(u.a.Footer,null,r.a.createElement(R,{firebase:t,userId:a}),r.a.createElement("div",{className:"d-flex align-items-center border-top pt-3 mt-3"},y?r.a.createElement(N,null):r.a.createElement("img",{src:c,alt:"icon",className:"mr-2 ".concat("ADMIN"===d?"border rounded-circle":""),width:"40px"}),r.a.createElement(I,{func:function(){j.getCurrentContent().hasText()&&(t.database().ref("skills/comments").push().set({uid:a,createdAt:Date.now(),updatedAt:Date.now(),text:JSON.stringify(w(Object(O.convertToRaw)(j.getCurrentContent())))}),D(O.EditorState.createEmpty()))},editorState:j,setEditorState:D})),p.map((function(e){return r.a.createElement(L,{comment:e,userId:a,key:e.id,firebase:t})}))))},F=a(255),B=a(42),M=a(32);var P=Object(M.f)((function(e){var t=e.username,a=e.firebase,n=e.userType,l=e.history;return r.a.createElement("div",{className:"overflow-auto sticky-top shadow-sm border-bottom"},r.a.createElement(F.a,{className:"bg-white",style:{minWidth:"max-content"}},r.a.createElement(m.a,null,r.a.createElement(o.a,null,r.a.createElement(F.a.Item,null,r.a.createElement(F.a.Link,{disabled:!0},t)),r.a.createElement(F.a.Item,null,r.a.createElement(B.b,{to:"/home",className:"nav-link"},"Home")),r.a.createElement(F.a.Item,null,r.a.createElement(B.b,{to:"/chat",className:"nav-link"},"Chat")),r.a.createElement(F.a.Item,null,"ADMIN"===n?r.a.createElement(B.b,{to:"/admin",className:"nav-link"},"ADMIN"):""),r.a.createElement(F.a.Item,{className:"ml-auto"},r.a.createElement(F.a.Link,{onClick:function(){a.auth().signOut(),l.push("/"),window.location.reload()}},"\u0110\u0103ng Xu\u1ea5t"))))))}));var G=function(e){var t=e.userId,a=e.firebase,n=r.a.useState(O.EditorState.createEmpty()),l=Object(s.a)(n,2),c=l[0],m=l[1],o=function(){c.getCurrentContent().hasText()&&(a.database().ref("messages/"+t).push().set({uid:t,text:JSON.stringify(w(Object(O.convertToRaw)(c.getCurrentContent()))),createdAt:Date.now(),status:"UNREAD"}),m(O.EditorState.createEmpty()))};return r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(I,{placeholder:"Nh\u1eadp tin nh\u1eafn...",func:o,editorState:c,setEditorState:m}),r.a.createElement("i",{className:"fas fa-location-arrow pt-1 pl-2 pb-1 pr-0 text-primary",style:{fontSize:"30px",cursor:"pointer"},onClick:function(){o()}}))};var J=function(e){var t=e.message;return e.firebase,e.userId,r.a.createElement("div",{className:"d-flex align-items-center flex-row-reverse mb-2"},r.a.createElement("div",{style:{maxWidth:"60%"}},r.a.createElement(j,{text:t.text,keyEditor:t.id})))};function V(e){var t=e.iconURL,a=e.userType;return r.a.createElement("img",{src:t,alt:"icon",className:"mr-2 ".concat("ADMIN"===a?"border rounded-circle":""),width:"40px"})}var W=function(e){var t=e.message,a=e.firebase,n=r.a.useState(""),l=Object(s.a)(n,2),c=l[0],m=l[1],o=r.a.useState(""),i=Object(s.a)(o,2),u=i[0],d=i[1],E=r.a.useState(!0),f=Object(s.a)(E,2),g=f[0],p=f[1];r.a.useEffect((function(){a.database().ref("users/"+t.uid).once("value").then((function(e){e.val()&&(m(e.val().image_url),d(e.val().type),p(!1))}))}),[a,t.uid]);var h=new Date(t.createdAt);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex align-items-center"},g?r.a.createElement(N,null):r.a.createElement(V,{iconURL:c,userType:u}),r.a.createElement("div",{style:{maxWidth:"60%"}},r.a.createElement(j,{text:t.text,keyEditor:t.id}))),r.a.createElement("div",{className:"d-flex align-items-center mb-2 ml-5"},r.a.createElement("span",{className:"text-muted"},r.a.createElement("small",null,"".concat(h.getDate()," ").concat(["th\xe1ng 1","th\xe1ng 2","th\xe1ng 3","th\xe1ng 4","th\xe1ng 5","th\xe1ng 6","th\xe1ng 7","th\xe1ng 8","th\xe1ng 9","th\xe1ng 10","th\xe1ng 11","th\xe1ng 12"][h.getMonth()]," ").concat(h.getFullYear()," ").concat(h.getHours(),":").concat(h.getMinutes())))))};var K=function(e){var t=e.userId,a=e.firebase,n=r.a.useState([]),l=Object(s.a)(n,2),c=l[0],m=l[1],o=r.a.useState(!0),i=Object(s.a)(o,2),d=i[0],E=i[1];return r.a.useEffect((function(){return a.database().ref("messages/"+t).on("value",(function(e){if(e.val()){var t=Object.keys(e.val()).map((function(t){return Object(x.a)({},e.val()[t],{id:t})}));m(t),E(!1)}else m([]),E(!1)})),function(){a.database().ref("messages/"+t).off()}}),[t,a]),r.a.createElement(u.a,{style:{maxHeight:"65vh",overflowY:"auto"},ref:function(e){var t;(t=e)&&(t.scrollTop=t.scrollHeight-t.clientHeight)}},r.a.createElement(u.a.Body,null,d?r.a.createElement(N,null):0===c.length?r.a.createElement("p",{className:"text-muted m-0 text-center"},r.a.createElement("small",null,"Nh\u1eafn \u0111i\u1ec1u g\xec \u0111\xf3 cho Vi\u1ec7t")):c.map((function(e){return t===e.uid?r.a.createElement(J,{userId:t,message:e,key:e.id,firebase:a}):r.a.createElement(W,{userId:t,message:e,key:e.id,firebase:a})}))))};var _=function(e){var t=e.userId,a=e.firebase;return r.a.createElement(m.a,null,r.a.createElement(o.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement(u.a,{className:"mt-3 shadow-sm"},r.a.createElement(u.a.Body,null,r.a.createElement(K,{userId:t,firebase:a})),r.a.createElement(u.a.Footer,null,r.a.createElement(m.a,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{className:"p-0"},r.a.createElement(G,{userId:t,firebase:a}))))))))),r.a.createElement(o.a,null,r.a.createElement(i.a,{className:"text-muted text-center mb-2 mt-3"},r.a.createElement("small",null,"HVDesigner @ 2020 \xb7 Ho\xe0ng Ng\u1ecdc Vi\u1ec7t"))))},z=a(251),q=a(252);function Y(e){var t=e.userShow,a=e.firebase,n=e.userId,l=r.a.useState([]),c=Object(s.a)(l,2),m=c[0],o=c[1];r.a.useEffect((function(){return a.database().ref("messages/"+t).on("value",(function(e){if(e.val()){var t=Object.keys(e.val()).map((function(t){return Object(x.a)({},e.val()[t],{id:t})}));o(t)}})),function(){a.database().ref("messages/"+t).off()}}),[a,t]);var i=["th\xe1ng 1","th\xe1ng 2","th\xe1ng 3","th\xe1ng 4","th\xe1ng 5","th\xe1ng 6","th\xe1ng 7","th\xe1ng 8","th\xe1ng 9","th\xe1ng 10","th\xe1ng 11","th\xe1ng 12"];return r.a.createElement(u.a.Body,{style:{overflowY:"auto",maxHeight:"65vh"},ref:function(e){var t;(t=e)&&(t.scrollTop=t.scrollHeight-t.clientHeight)}},m.map((function(e){var t=new Date(e.createdAt);return e.uid===n?r.a.createElement("div",{className:"d-flex align-items-center flex-row-reverse mb-2",key:e.id},r.a.createElement("div",{style:{maxWidth:"60%"}},r.a.createElement(j,{text:e.text,keyEditor:e.id}))):r.a.createElement("div",{key:e.id},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(Q,{iconURL:"https://img.icons8.com/dusk/40/000000/cat.png",userType:"USER"}),r.a.createElement("div",{style:{maxWidth:"60%"}},r.a.createElement(j,{text:e.text,keyEditor:e.id}))),r.a.createElement("div",{className:"d-flex align-items-center mb-2 ml-5"},r.a.createElement("span",{className:"text-muted"},r.a.createElement("small",null,"".concat(t.getDate()," ").concat(i[t.getMonth()]," ").concat(t.getFullYear()," ").concat(t.getHours(),":").concat(t.getMinutes())))))})))}function Q(e){var t=e.iconURL,a=e.userType;return r.a.createElement("img",{src:t,alt:"icon",className:"mr-2 ".concat("ADMIN"===a?"border rounded-circle":""),width:"40px"})}var X=function(e){var t=e.user,a=e.firebase,n=e.setUserShow,l=r.a.useState(""),c=Object(s.a)(l,2),m=c[0],o=c[1],i=r.a.useState(""),u=Object(s.a)(i,2),d=u[0],E=u[1],f=r.a.useState(0),g=Object(s.a)(f,2),p=g[0],h=g[1];return r.a.useEffect((function(){a.database().ref("users/"+t.uid).on("value",(function(e){e.val()&&(o(e.val().full_name),E(e.val().type))}));var e=0;for(var n in t.messages)t.messages.hasOwnProperty(n)&&"UNREAD"===t.messages[n].status&&(e+=1);return h(e),function(){a.database().ref("users/"+t.uid).off()}}),[a,t]),r.a.createElement("div",{className:"d-flex align-items-center mb-3"},r.a.createElement("span",{style:{cursor:"pointer"},className:"btn-link mr-3",onClick:function(){n(t.uid)}},m),"ADMIN"===d?r.a.createElement(q.a,{variant:"success",className:"mr-1"},"ADMIN"):"",0===p?"":r.a.createElement(q.a,{variant:"danger"},p))},Z=function(e){var t=e.firebase,a=e.userId,n=r.a.useState([]),l=Object(s.a)(n,2),c=l[0],d=l[1],E=r.a.useState(""),f=Object(s.a)(E,2),g=f[0],p=f[1],h=r.a.useState(O.EditorState.createEmpty()),b=Object(s.a)(h,2),v=b[0],y=b[1];r.a.useEffect((function(){return t.database().ref("messages").on("value",(function(e){if(e.val()){for(var t=Object.keys(e.val()).map((function(t){return{messages:e.val()[t],uid:t}})),a=[],n=function(e){var n=t[e],r=Object.keys(n.messages).map((function(e){return Object(x.a)({},n.messages[e],{id:e})}));a.push({createdAt:r[r.length-1].createdAt,uid:n.uid,messages:n.messages})},r=0;r<t.length;r++)n(r);var l=a.sort((function(e,t){var a=new Date(e.createdAt),n=new Date(t.createdAt);return a<n?1:a>n?-1:0}));d(l)}})),function(){t.database().ref("messages").off()}}),[t]);var N=function(){""!==g&&v.getCurrentContent().hasText()&&(t.database().ref("messages/"+g).push().set({uid:a,text:JSON.stringify(w(Object(O.convertToRaw)(v.getCurrentContent()))),createdAt:Date.now(),status:"UNREAD"}),y(O.EditorState.createEmpty()))};return r.a.createElement(m.a,null,r.a.createElement(o.a,null,r.a.createElement(i.a,null,r.a.createElement(u.a,{className:"mt-3 shadow-sm"},r.a.createElement(u.a.Body,null,r.a.createElement(z.a,null,r.a.createElement(u.a,null,r.a.createElement(u.a.Body,null,0===c.length?r.a.createElement("p",{className:"text-muted m-0 text-center"},r.a.createElement("small",null,"Ch\u01b0a c\xf3 tin nh\u1eafn n\xe0o.")):c.map((function(e){return r.a.createElement(X,{user:e,key:e.uid,firebase:t,setUserShow:p})})))),""===g?"":r.a.createElement(u.a,{className:"mb-0"},r.a.createElement(Y,{userShow:g,firebase:t,userId:a}),r.a.createElement(u.a.Footer,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement(I,{placeholder:"Nh\u1eadp tin nh\u1eafn...",editorState:v,setEditorState:y,func:N}),r.a.createElement("i",{className:"fas fa-location-arrow pt-1 pl-2 pb-1 pr-0 text-primary",style:{fontSize:"30px",cursor:"pointer"},onClick:function(){N()}}))))))))),r.a.createElement(o.a,null,r.a.createElement(i.a,{className:"text-muted text-center mb-2 mt-3"},r.a.createElement("small",null,"HVDesigner @ 2020 \xb7 Ho\xe0ng Ng\u1ecdc Vi\u1ec7t"))))};function $(e){var t=e.avaUrl,a=e.userId,n=r.a.useState(!1),l=Object(s.a)(n,2),c=l[0],E=l[1],g=r.a.useState(0),p=Object(s.a)(g,2),h=p[0],b=p[1];r.a.useEffect((function(){return f.database().ref("about/like").on("value",(function(e){if(e.val()){for(var t=Object.keys(e.val()),a=0,n=0;n<t.length;n++){var r=t[n];"ACTIVE"===e.val()[r].status&&a++}b(a)}})),f.database().ref("about/like/"+a).on("value",(function(e){e.val()&&"ACTIVE"===e.val().status&&E(!0),e.val()&&"UNLIKE"===e.val().status&&E(!1)})),function(){f.database().ref("about/like/"+a).off(),f.database().ref("about/like").off()}}),[a]);return r.a.createElement(m.a,null,r.a.createElement(o.a,null,r.a.createElement(i.a,null,r.a.createElement(u.a,{className:"mt-3 shadow-sm"},r.a.createElement(u.a.Body,null,r.a.createElement("div",{className:"text-center"},r.a.createElement(d.a,{src:t,thumbnail:!0,className:"rounded-circle shadow-sm",width:"100px",style:{minHeight:"100px",minWidth:"100px"}}),r.a.createElement("h1",{className:"display-4 fontLobster mb-3"},"Ho\xe0ng Ng\u1ecdc Vi\u1ec7t"),r.a.createElement("p",{className:"text-muted"},"Profile Online"),r.a.createElement("p",{className:"text-muted"},"Web Developer"),r.a.createElement("p",{className:"text-muted"},r.a.createElement("img",{src:"https://img.icons8.com/doodle/40/000000/baby--v2.png",alt:"birthday"})," ","23 / 09 / 1997"),r.a.createElement("p",{className:"text-muted"},r.a.createElement("img",{src:"https://img.icons8.com/plasticine/40/000000/phone.png",alt:"phonenumber"})," ","+84971247895"),r.a.createElement("p",{className:"text-muted"},r.a.createElement("img",{src:"https://img.icons8.com/doodle/40/000000/email--v1.png",alt:"email"})," ","hnv.hoangngocviet@gmail.com"))),r.a.createElement(u.a.Footer,null,c?r.a.createElement("img",{src:"https://img.icons8.com/plasticine/50/000000/like--v1.png",style:{cursor:"pointer"},alt:"like",onClick:function(){f.database().ref("about/like/"+a).update({updatedAt:Date.now(),status:"UNLIKE"})}}):r.a.createElement("img",{src:"https://img.icons8.com/plasticine/50/000000/like--v2.png",style:{cursor:"pointer"},alt:"like",onClick:function(){f.database().ref("about/like/"+a).set({createdAt:Date.now(),updatedAt:Date.now(),status:"ACTIVE"})}}),r.a.createElement("small",{className:"text-muted ml-2"},0===h?"Ch\u01b0a c\xf3 l\u01b0\u1ee3t th\xedch n\xe0o.":"C\xf3 ".concat(h," l\u01b0\u1ee3t th\xedch.")))))),r.a.createElement(o.a,null,r.a.createElement(i.a,null,r.a.createElement(U,{firebase:f,userId:a}))),r.a.createElement(o.a,null,r.a.createElement(i.a,{className:"text-muted text-center mb-2 mt-3"},r.a.createElement("small",null,"HVDesigner @ 2020 \xb7 Ho\xe0ng Ng\u1ecdc Vi\u1ec7t"))))}var ee=k((function(e){var t=e.avaUrl,a=e.userId,n=e.username,l=e.userType;return r.a.createElement(B.a,null,r.a.createElement("div",{className:"bg-light",style:{minHeight:"100vh"}},r.a.createElement(P,{username:n,firebase:f,userId:a,userType:l}),r.a.createElement(M.c,null,r.a.createElement(M.a,{path:"/chat"},r.a.createElement(_,{userId:a,firebase:f,userType:l})),""===l?r.a.createElement(S,null):"ADMIN"===l?r.a.createElement(M.a,{path:"/admin"},r.a.createElement(Z,{firebase:f,userId:a})):"",r.a.createElement(M.a,{path:"/"},r.a.createElement($,{userId:a,avaUrl:t})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(241),a(242);c.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[130,1,2]]]);